import{o as V,n as K,r as d,s as O,_ as u,x as Y,y as Q,d as e,z as q,A as X,al as ie,E as h,j as n,f as o,k as i,a_ as se,O as I,l as m,B as $,L as A,C as M,bU as oe,J as k,cp as le,D as C,a$ as ce,R as z,p as N,az as U,ay as w,bO as de,e as P,bN as E,b9 as me,cd as pe,c as he,F as ue,S as ge,ax as ve,K as ye,b7 as xe,b8 as be,u as fe}from"./app-51ffe495.js";import{C as we,j as Ce}from"./company-jobs-85d89e98.js";import{g as R}from"./get-initials-d1c6cec7.js";import{T as Ie,a as Re,b as Le,c as Te,d as je,e as Se}from"./TimelineSeparator-f81ed84b.js";import{C as Me}from"./CardMedia-70c4c78b.js";import{C as We}from"./CardActions-d5f3a77b.js";import{R as Ae}from"./react-markdown-f65f5cc4.js";import{P as ke,a as D}from"./property-list-item-81e2082e.js";import{G as B}from"./Grid-c6cd7dbb.js";import{C as $e}from"./CardHeader-dbda5e40.js";import"./deep-copy-ee95be26.js";import"./index-882829cf.js";function Pe(r){return V("MuiImageList",r)}K("MuiImageList",["root","masonry","quilted","standard","woven"]);const De=d.createContext({}),Z=De,qe=["children","className","cols","component","rowHeight","gap","style","variant"],ze=r=>{const{classes:t,variant:s}=r;return X({root:["root",s]},Pe,t)},Ne=O("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:s}=r;return[t.root,t[s.variant]]}})(({ownerState:r})=>u({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},r.variant==="masonry"&&{display:"block"})),Oe=d.forwardRef(function(t,s){const a=Y({props:t,name:"MuiImageList"}),{children:l,className:c,cols:p=2,component:L="ul",rowHeight:v="auto",gap:x=4,style:W,variant:g="standard"}=a,T=Q(a,qe),y=d.useMemo(()=>({rowHeight:v,gap:x,variant:g}),[v,x,g]);d.useEffect(()=>{},[]);const j=g==="masonry"?u({columnCount:p,columnGap:x},W):u({gridTemplateColumns:`repeat(${p}, 1fr)`,gap:x},W),S=u({},a,{component:L,gap:x,rowHeight:v,variant:g}),b=ze(S);return e(Ne,u({as:L,className:q(b.root,b[g],c),ref:s,style:j,ownerState:S},T,{children:e(Z.Provider,{value:y,children:l})}))}),Ee=Oe;function He(r){return V("MuiImageListItem",r)}const _e=K("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),J=_e,Fe=["children","className","cols","component","rows","style"],Ge=r=>{const{classes:t,variant:s}=r;return X({root:["root",s],img:["img"]},He,t)},Ue=O("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:s}=r;return[{[`& .${J.img}`]:t.img},t.root,t[s.variant]]}})(({ownerState:r})=>u({display:"block",position:"relative"},r.variant==="standard"&&{display:"flex",flexDirection:"column"},r.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${J.img}`]:u({objectFit:"cover",width:"100%",height:"100%",display:"block"},r.variant==="standard"&&{height:"auto",flexGrow:1})})),Be=d.forwardRef(function(t,s){const a=Y({props:t,name:"MuiImageListItem"}),{children:l,className:c,cols:p=1,component:L="li",rows:v=1,style:x}=a,W=Q(a,Fe),{rowHeight:g="auto",gap:T,variant:y}=d.useContext(Z);let j="auto";y==="woven"?j=void 0:g!=="auto"&&(j=g*v+T*(v-1));const S=u({},a,{cols:p,component:L,gap:T,rowHeight:g,rows:v,variant:y}),b=Ge(S);return e(Ue,u({as:L,className:q(b.root,b[y],c),ref:s,style:u({height:j,gridColumnEnd:y!=="masonry"?`span ${p}`:void 0,gridRowEnd:y!=="masonry"?`span ${v}`:void 0,marginBottom:y==="masonry"?T:void 0},x),ownerState:S},W,{children:d.Children.map(l,f=>d.isValidElement(f)?f.type==="img"||ie(f,["Image"])?d.cloneElement(f,{className:q(b.img,f.props.className)}):f:null)}))}),Je=Be,Ve=r=>{switch(r.type){case"new_job":return n(m,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap"},children:[e(i,{sx:{mr:.5},variant:"subtitle2",children:r.author}),e(i,{sx:{mr:.5},variant:"body2",children:"added a new job"}),e(i,{color:"primary",variant:"subtitle2",children:e(A,{href:"#",children:r.addedJob})})]});case"new_team_member":return n(m,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap"},children:[e(i,{sx:{mr:.5},variant:"subtitle2",children:r.author}),e(i,{sx:{mr:.5},variant:"body2",children:"added"}),e(i,{sx:{mr:.5},variant:"subtitle2",children:r.addedMember}),e(i,{variant:"body2",children:"as a team member"})]});case"created":return n(m,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap"},children:[e(i,{sx:{mr:.5},variant:"subtitle2",children:r.author}),e(i,{sx:{mr:.5},variant:"body2",children:"created"}),e(i,{variant:"subtitle2",children:r.createdCompany})]});default:return null}},H=r=>{const{activities:t,...s}=r;return n(o,{spacing:3,...s,children:[e("div",{children:e(i,{variant:"h6",children:"Activity"})}),n(o,{spacing:3,children:[e(Ie,{sx:{p:0,m:0},children:t.map((a,l)=>{const c=t.length-1>l,p=se(a.createdAt,"MMM dd, HH:mm a");return n(Re,{sx:{"&:before":{display:"none"}},children:[n(Le,{children:[e(Te,{sx:{border:0,p:0},children:e(I,{src:a.avatar,children:R(a.author)})}),c&&e(je,{sx:{minHeight:30}})]}),n(Se,{children:[Ve(a),e(i,{color:"text.secondary",variant:"caption",sx:{mt:1},children:p})]})]},a.id)})}),e(m,{sx:{display:"flex",justifyContent:"center"},children:e($,{color:"inherit",children:"Load more"})})]})]})};H.defaultProps={activities:[]};H.propTypes={activities:h.array};const ee=r=>{const{assets:t=[],...s}=r;return n(o,{spacing:3,...s,children:[e("div",{children:n(i,{variant:"h6",children:["Assets (",t.length,")"]})}),e(m,{sx:{display:"grid",gap:3,gridTemplateColumns:"repeat(2, minmax(0, 180px))"},children:t.map(a=>{const l=a.extension==="pdf",c=["jpg","jpeg","png",""].includes(a.extension);return n(M,{variant:"outlined",children:[l&&e(m,{sx:{display:"flex",backgroundColor:p=>p.palette.mode==="dark"?"neutral.900":"neutral.100",height:100,justifyContent:"center",py:3},children:e(oe,{anchorOrigin:{horizontal:"right",vertical:"bottom"},badgeContent:"PDF",color:"primary",children:e(k,{sx:{fontSize:48},children:e(le,{})})})}),c&&e(Me,{image:a.url,sx:{height:100}}),n(m,{sx:{p:2},children:[e(i,{variant:"subtitle2",children:a.fileName}),e(i,{color:"text.secondary",variant:"caption",children:a.size})]}),e(C,{}),e(We,{sx:{justifyContent:"center"},children:e($,{color:"inherit",size:"small",children:"Download"})})]},a.id)})})]})};ee.propTypes={assets:h.array};const _=r=>{const{member:t}=r;return n(m,{sx:{borderColor:"divider",borderRadius:1,borderStyle:"solid",borderWidth:1,px:3,py:4},children:[n(o,{alignItems:"center",direction:"row",spacing:2,children:[e(I,{src:t.avatar,children:R(t.name)}),n("div",{children:[e(i,{variant:"subtitle2",children:t.name}),e(i,{color:"text.secondary",variant:"body2",children:t.role})]})]}),e(o,{alignItems:"center",direction:"row",flexWrap:"wrap",spacing:1,sx:{mt:2},children:(t.skills||[]).map(s=>e(ce,{label:s,size:"small"},s))})]})};_.propTypes={member:h.object.isRequired};const Ke=O("div")(({theme:r})=>({color:r.palette.text.secondary,fontFamily:r.typography.fontFamily,"& p":{fontSize:r.typography.body2.fontSize,lineHeight:r.typography.body1.lineHeight,marginBottom:r.spacing(2)}})),re=r=>{const{company:t,...s}=r,a=(t.members||[]).slice(0,2),l=t.images||[];return n("div",{...s,children:[e("div",{children:e(i,{variant:"h5",children:t.shortDescription})}),e(m,{sx:{mt:3},children:e(Ke,{children:t.description&&e(Ae,{children:t.description})})}),e(Ee,{cols:3,gap:24,variant:"masonry",children:l.map((c,p)=>e(Je,{children:e("img",{alt:`${t.name} gallery`,src:`${c}?w=248&fit=crop&auto=format`,srcSet:`${c}?w=248&fit=crop&auto=format&dpr=2 2x`})},p))}),e(C,{}),n(o,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",spacing:3,sx:{mt:3},children:[e(i,{variant:"h6",children:"Jobs"}),n(A,{color:"inherit",component:z,href:N.dashboard.jobs.companies.details,variant:"subtitle2",sx:{alignItems:"center",display:"flex"},children:[e(i,{sx:{mr:1},variant:"subtitle2",children:"Jobs"}),e(k,{children:e(U,{})})]})]}),e(m,{sx:{mt:3},children:e(we,{jobs:t.jobs})}),e(C,{sx:{my:3}}),n(o,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",spacing:3,children:[e(i,{variant:"h6",children:"Members"}),n(A,{color:"inherit",component:z,href:N.dashboard.jobs.companies.details,variant:"subtitle2",sx:{alignItems:"center",display:"flex"},children:[e(i,{sx:{mr:1},variant:"subtitle2",children:"Members"}),e(k,{children:e(U,{})})]})]}),e(m,{sx:{mb:-1.5,mt:1.5,mx:-1.5},children:e(w,{container:!0,spacing:3,children:a.map(c=>e(w,{xs:12,sm:6,children:e(_,{member:c})},c.id))})})]})};re.propTypes={company:h.object.isRequired};const te=r=>{const{review:t}=r,s=de(t.createdAt,new Date,{addSuffix:!0});return e(M,{variant:"outlined",children:e(P,{children:n(o,{spacing:2,children:[n(o,{spacing:2,alignItems:{xs:"flex-start",sm:"center"},direction:{xs:"column",sm:"row"},children:[e(I,{src:t.avatar,children:R(t.author)}),n(o,{spacing:1,children:[e(i,{variant:"subtitle1",children:t.title}),n(o,{alignItems:"center",direction:"row",divider:e("span",{children:"•"}),flexWrap:"wrap",spacing:2,children:[n(o,{alignItems:"center",direction:"row",spacing:1,children:[e(E,{value:t.rating/5,precision:.1,readOnly:!0,max:1}),n(i,{noWrap:!0,variant:"subtitle2",children:[t.rating,"/5"]})]}),e(i,{noWrap:!0,variant:"subtitle2",children:t.author}),e(i,{color:"text.secondary",noWrap:!0,variant:"body2",children:s})]})]})]}),e(i,{variant:"body1",children:t.description})]})})})};te.propTypes={review:h.object.isRequired};const Ye=()=>{const r=pe(),[t,s]=d.useState(null),a=d.useCallback((l,c)=>{s(c)},[]);return n(o,{alignItems:"flex-start",direction:"row",spacing:2,children:[e(I,{src:r.avatar,children:R(r.name)}),n(m,{sx:{flexGrow:1},children:[e(me,{fullWidth:!0,multiline:!0,placeholder:"Send your review",rows:3}),n(o,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",spacing:1,sx:{mt:3},children:[e(E,{onChange:a,value:t}),e($,{variant:"contained",children:"Send Review"})]})]})]})},ne=r=>{const{averageRating:t,totalReviews:s}=r;return e(M,{variant:"outlined",children:e(P,{children:n(o,{alignItems:{xs:"flex-start",sm:"center"},direction:{xs:"column",sm:"row"},flexWrap:"wrap",gap:2,children:[e(i,{variant:"subtitle2",children:"Overall reviews"}),n(o,{alignItems:"center",direction:"row",divider:e("span",{children:"•"}),spacing:2,children:[n(o,{alignItems:"center",direction:"row",spacing:1,children:[e(E,{value:t/5,precision:.1,readOnly:!0,max:1}),n(i,{noWrap:!0,variant:"subtitle2",children:[t,"/5"]})]}),n(i,{color:"text.secondary",variant:"body2",children:[s," reviews in total"]})]})]})})})};ne.propTypes={averageRating:h.number.isRequired,totalReviews:h.number.isRequired};const F=r=>{const{reviews:t,averageRating:s,...a}=r;return n(o,{spacing:3,...a,children:[e("div",{children:e(i,{variant:"h6",children:"Reviews"})}),n(o,{spacing:3,children:[e(ne,{averageRating:s,totalReviews:t.length}),t.map(l=>e(te,{review:l},l.id)),e(m,{sx:{display:"flex",justifyContent:"center"},children:e($,{color:"inherit",children:"Load more"})}),e(Ye,{})]})]})};F.defaultProps={reviews:[],averageRating:0};F.propTypes={reviews:h.array.isRequired,averageRating:h.number.isRequired};const ae=r=>{const{company:t,...s}=r;return e(M,{...s,children:n(P,{children:[e(i,{color:"text.secondary",component:"p",sx:{mb:2},variant:"overline",children:"About"}),n(ke,{children:[e(D,{align:"vertical",label:"Website",sx:{px:0,py:1},value:t.website}),e(D,{align:"vertical",label:"Locations",sx:{px:0,py:1},children:(t.locations||[]).map(a=>e(i,{color:"text.secondary",variant:"body2",children:a},a))}),e(D,{align:"vertical",label:"Company size",sx:{px:0,py:1},value:t.employees})]}),e(C,{sx:{my:2}}),e(i,{color:"text.secondary",component:"p",sx:{mb:2},variant:"overline",children:"Founders"}),e(o,{spacing:2,children:(t.founders||[]).map(a=>n(o,{alignItems:"center",direction:"row",spacing:2,children:[e(I,{src:a.avatar,children:R(a.name)}),n("div",{children:[e(i,{variant:"subtitle2",children:a.name}),e(i,{color:"text.secondary",variant:"body2",children:a.role})]})]},a.id))})]})})};ae.propTypes={company:h.object.isRequired};const G=r=>{const{members:t,...s}=r;return n(o,{spacing:3,...s,children:[e("div",{children:n(i,{variant:"h6",children:["Team (",t.length,")"]})}),e("div",{children:e(B,{container:!0,spacing:3,children:t.map(a=>e(B,{item:!0,xs:12,sm:6,children:e(_,{member:a})},a.id))})})]})};G.defaultProps={members:[]};G.propTypes={members:h.array.isRequired};const Qe=[{label:"Overview",value:"overview"},{label:"Reviews",value:"reviews"},{label:"Activity",value:"activity"},{label:"Team",value:"team"},{label:"Assets",value:"assets"}],Xe=()=>{const r=fe(),[t,s]=d.useState(null),a=d.useCallback(async()=>{try{const l=await Ce.getCompany();r()&&s(l)}catch(l){console.error(l)}},[r]);return d.useEffect(()=>{a()},[]),t},mr=()=>{const r=Xe(),[t,s]=d.useState("overview");he();const a=d.useCallback((l,c)=>{s(c)},[]);return r?n(ue,{children:[e(ge,{title:"Dashboard: Company Details"}),e(m,{component:"main",sx:{flexGrow:1,py:8},children:e(ve,{maxWidth:"lg",children:n(w,{container:!0,spacing:4,children:[e(w,{xs:12,children:e("div",{children:n(A,{color:"text.primary",component:z,href:N.dashboard.jobs.index,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[e(k,{sx:{mr:1},children:e(ye,{})}),e(i,{variant:"subtitle2",children:"Jobs"})]})})}),e(w,{xs:12,lg:8,children:n(M,{children:[e($e,{disableTypography:!0,title:n(o,{alignItems:"flex-start",direction:"row",spacing:2,children:[e(I,{src:r.logo,variant:"rounded",children:R(r.name)}),n(o,{spacing:1,children:[e(i,{variant:"h6",children:r.name}),e(i,{variant:"body2",children:r.shortDescription})]})]})}),e(C,{}),e(xe,{indicatorColor:"primary",onChange:a,scrollButtons:"auto",sx:{px:3},textColor:"primary",value:t,variant:"scrollable",children:Qe.map(l=>e(be,{label:l.label,value:l.value},l.value))}),e(C,{}),n(P,{children:[t==="overview"&&e(re,{company:r}),t==="reviews"&&e(F,{reviews:r.reviews||[],averageRating:r.averageRating}),t==="activity"&&e(H,{activities:r.activities||[]}),t==="team"&&e(G,{members:r.members||[]}),t==="assets"&&e(ee,{assets:r.assets||[]})]})]})}),e(w,{xs:12,lg:4,children:e(ae,{company:r})})]})})})]}):null};export{mr as default};
