import{P as t,d as i,r as c,v as Q,w as Y,x as Z,o as ee,$ as j,j as y,F as te,S as ae,k as W,C as ne,e as oe,f as N,s as re,p as _}from"./app-d2e90dc3.js";import{c as le,a as O}from"./index.esm-0abc412e.js";import{c as L}from"./index-022bd9ab.js";import{u as ie}from"./formik.esm-a22de33f.js";import{R as S}from"./TextfieldStyle-62c86472.js";import{u as se}from"./use-search-params-94ebabb8.js";import{G as ce,a as ue}from"./minimal-01a6cf66.js";/* empty css             */function I(e){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},I(e)}var me;function D(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:me;return n?e.split(" ").map(function(r){return n[r]||r}).join(" "):e}var fe=(typeof window>"u"?"undefined":I(window))==="object"&&window.Element||function(){};function pe(e,n,r){if(!(e[n]instanceof fe))return new Error("Invalid prop `"+n+"` supplied to `"+r+"`. Expected prop to be an instance of Element. Validation failed.")}t.oneOfType([t.string,t.func,pe,t.shape({current:t.any})]);var de=t.oneOfType([t.func,t.string,t.shape({$$typeof:t.symbol,render:t.func}),t.arrayOf(t.oneOfType([t.func,t.string,t.shape({$$typeof:t.symbol,render:t.func})]))]),ye=["className","cssModule","variant","innerRef"];function z(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,l)}return r}function be(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?z(Object(r),!0).forEach(function(l){he(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}function he(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ge(e,n){if(e==null)return{};var r=ve(e,n),l,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)l=s[a],!(n.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}function ve(e,n){if(e==null)return{};var r={},l=Object.keys(e),a,s;for(s=0;s<l.length;s++)a=l[s],!(n.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Ne={active:t.bool,"aria-label":t.string,onClick:t.func,variant:t.oneOf(["white"]),className:t.string,cssModule:t.object,innerRef:t.oneOfType([t.object,t.string,t.func])};function G(e){var n=e.className;e.cssModule;var r=e.variant,l=e.innerRef,a=ge(e,ye),s=D(L(n,"btn-close",r&&"btn-close-".concat(r)));return i("button",{ref:l,type:"button",className:s,...be({"aria-label":"close"},a)})}G.propTypes=Ne;var Ce=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function Oe(e,n){if(e==null)return{};var r=Se(e,n),l,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)l=s[a],!(n.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}function Se(e,n){if(e==null)return{};var r={},l=Object.keys(e),a,s;for(s=0;s<l.length;s++)a=l[s],!(n.indexOf(a)>=0)&&(r[a]=e[a]);return r}var we={active:t.bool,"aria-label":t.string,block:t.bool,children:t.node,className:t.string,cssModule:t.object,close:t.bool,color:t.string,disabled:t.bool,innerRef:t.oneOfType([t.object,t.func,t.string]),onClick:t.func,outline:t.bool,size:t.string,tag:de};function R(e){var n=c.useCallback(function(C){if(e.disabled){C.preventDefault();return}if(e.onClick)return e.onClick(C)},[e.onClick,e.disabled]),r=e.active,l=e["aria-label"],a=e.block,s=e.className,w=e.close,B=e.cssModule,b=e.color,E=b===void 0?"secondary":b,T=e.outline,x=e.size,h=e.tag,p=h===void 0?"button":h,k=e.innerRef,d=Oe(e,Ce);if(w)return i(G,{...d});var P="btn".concat(T?"-outline":"","-").concat(E),g=D(L(s,"btn",P,x?"btn-".concat(x):!1,a?"d-block w-100":!1,{active:r,disabled:e.disabled}),B);return d.href&&p==="button"&&(p="a"),i(p,{type:p==="button"&&d.onClick?"button":void 0,...d,className:g,ref:k,onClick:n,"aria-label":l})}R.propTypes=we;const Te=e=>{const n=le({firstname:O().max(255).required("This Field is required"),lastname:O().max(255).required("This Field is required"),phonenumber:O().max(255).required("This Field is required"),companywebsite:O().max(255).required("This Field is required"),companyname:O().max(255).required("This Field is required")}),[r,l]=c.useState(!1),{userinfo:a}=e,w=se().get("returnTo"),[B,b]=c.useState(!1),[E,T]=c.useState(!1),[x,h]=c.useState("Save changes and NEXT"),p=JSON.parse(localStorage.getItem("email")),k=Y();c.useEffect(()=>{k(Z({email:p}))},[k]);const d=ee();c.useState("");const[P,g]=c.useState(!1),[C,f]=c.useState(!1),[F,V]=c.useState(!1),[$,q]=c.useState(""),[u,v]=c.useState({firstname:"",lastname:"",phonenumber:"",companywebsite:"",companylocation:"",companyname:"",email:""});u.email=p;const A=()=>{d(w||_.auth.auth.signin)},X=m=>{console.log("select",m),T(!0),m!=null?(v({...o.values,companylocation:m.properties.formatted}),f(!1)):(v({...o.values,companylocation:""}),f(!0),g(!1))};j(".geoapify-autocomplete-input").on("focusout",function(){console.log("out1",u.companylocation),console.log("out2",j(".geoapify-autocomplete-input")[0].value),(j(".geoapify-autocomplete-input")[0].value==""||j(".geoapify-autocomplete-input")[0].value==" ")&&(u.companylocation===""||!u.companylocation||u.companylocation===" ")&&(v({...o.values,companylocation:""}),f(!0),g(!1),q($+"a")),T(!1)});const K=m=>{console.log("input",m),g(!0),f(!1),V(!0),document.getElementsByClassName("geoapify-autocomplete-input")[0].value==""&&(document.getElementsByClassName("geoapify-autocomplete-input")[0].value=" ")},U=m=>{},H=m=>{},o=ie({initialValues:u,enableReinitialize:!0,validationSchema:n,onSubmit:m=>{if(u.companylocation===""||!u.companylocation||u.companylocation===" "||!E){v({...o.values,companylocation:""}),f(!0),g(!1),q($+"a");return}b(!0),h(""),axios.post("/api/first-Info",m).then(M=>{M.data.status===200&&(v({firstname:"",lastname:"",phonenumber:"",companywebsite:"",companylocation:"",companyname:"",email:""}),d(w||_.auth.auth.secondInfos),h("Save changes and NEXT"),b(!1)),M.data.status==="failed"&&(h("Save changes and NEXT"),b(!1))})}});c.useEffect(()=>{let m=document.getElementsByClassName("geoapify-autocomplete-input")[0];F&&u.companylocation===""&&(m.setAttribute("required",""),f(!0)),!u.companylocation&&F?f(!0):f(!1),P&&f(!1),!r&&a&&(v({...u,firstname:a?a.firstname:"",lastname:a?a.lastname:"",phonenumber:a?a.phonenumber:"",companywebsite:a?a.companywebsite:"",companylocation:a?a.companylocation:"",companyname:a?a.companyname:""}),l(!0),document.getElementsByClassName("geoapify-autocomplete-input")[0].value=a?a.companylocation:"")});const J=()=>{document.getElementsByClassName("geoapify-autocomplete-input")[0].click(),document.getElementsByClassName("geoapify-autocomplete-input")[0].focus()};return y(te,{children:[i(ae,{title:"Business Info"}),y("div",{className:"firstinfo-card",children:[i(W,{color:"primary",variant:"h4",sx:{pb:1,fontWeight:"bold",textAlign:"center"},children:"LOGO"}),i(ne,{sx:{borderRadius:2.5},className:"mainCard card  px-4 pt-4 pb-3",children:i(oe,{className:"container",children:y("form",{noValidate:!0,onSubmit:o.handleSubmit,className:"row",children:[i(W,{color:"black",className:"title largesize mb-1",children:"General Business Information"}),i(N,{spacing:0,className:"col-md-6 col-12",children:i("div",{className:"p-2 ",children:i(S,{label:"First name",className:"title-inter ",name:"firstname",variant:"filled",fullWidth:!0,style:{marginTop:11},error:!!(o.touched.firstname&&o.errors.firstname),helperText:o.touched.firstname&&o.errors.firstname,onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.firstname})})}),i(N,{spacing:0,className:"col-md-6 col-12 ",children:i("div",{className:"p-2  ",children:i(S,{label:"Last name",className:"title-inter",name:"lastname",variant:"filled",fullWidth:!0,style:{marginTop:11},error:!!(o.touched.lastname&&o.errors.lastname),helperText:o.touched.lastname&&o.errors.lastname,onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.lastname})})}),i(N,{spacing:0,className:"col-md-6 col-12 ",children:i("div",{className:"p-2 ",children:i(S,{variant:"filled",className:"title-inter ",style:{marginTop:11},error:!!(o.touched.phonenumber&&o.errors.phonenumber),helperText:o.touched.phonenumber&&o.errors.phonenumber,label:"Phone Number",name:"phonenumber",fullWidth:!0,onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.phonenumber})})}),i(N,{spacing:0,className:"col-md-6 col-12 ",children:i("div",{className:"p-2 ",children:i(S,{variant:"filled",className:"title-inter ",style:{marginTop:11},error:!!(o.touched.companyname&&o.errors.companyname),helperText:o.touched.companyname&&o.errors.companyname,label:"Company Name",name:"companyname",fullWidth:!0,onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.companyname})})}),i(N,{spacing:0,className:"col-md-6 col-12 ",children:i("div",{className:"p-2",children:i(S,{variant:"filled",className:"title-inter ",style:{marginTop:11},error:!!(o.touched.companywebsite&&o.errors.companywebsite),helperText:o.touched.companywebsite&&o.errors.companywebsite,label:"Company Website",name:"companywebsite",fullWidth:!0,onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.companywebsite})})}),i(N,{spacing:0,className:"col-md-6 col-12 ",children:i("div",{className:"p-2",style:{position:"relative"},children:y(ce,{apiKey:"1040c1c2e3e34b3b80b351a587232b75",children:[i(ue,{placeholder:" ",onUserInput:K,onClose:H,placeSelect:X,suggestionsChange:U},$),i("div",{onClick:J,className:`${P?"location-placeholder-top":"location-placeholder-general"} ${C?"location-placeholder-error":""}`,children:"Company Location"}),C?i("div",{className:"location-error",children:"Invalid address"}):""]})})}),y("div",{className:"row d-flex justify-content-end pt-4 px-1 title-inter ",children:[i(R,{className:"text-center mx-4 w-25  btn btn-hover-outline mainButton smallsize cancel-button",variant:"text",onClick:A,children:"Cancel"}),y(R,{className:"text-center   mx-8 w-50  mainButton background-blue smallsize firstinfo-button",variant:"contained",type:"submit",children:[y("span",{className:"ml-2",children:[" ",x," "]}),B?i(re,{color:"inherit",size:"2rem"}):i("span",{})]})]})]})})})]})]})},xe=e=>({userinfo:e.profile.userinfo}),Fe=Q(xe)(Te);export{Fe as default};
