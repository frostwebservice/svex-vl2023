import{ae as V,af as Y,r as d,G,K as u,ao as K,_ as Q,d as e,ap as D,ag as X,ai as ie,P as h,j as n,f as o,k as i,bb as se,E as I,l as m,B as P,L as k,C as M,bY as oe,q as A,cs as le,D as C,aI as ce,R as N,p as E,aO as B,aN as w,bS as de,e as $,bR as H,bl as me,c as pe,F as he,S as ue,aM as ge,A as ve,bj as ye,bk as xe,u as be}from"./app-d2e90dc3.js";import{C as fe,j as we}from"./company-jobs-d5f4629f.js";import{g as R}from"./get-initials-d1c6cec7.js";import{T as Ce,a as Ie,b as Re,c as Le,d as Te,e as je}from"./TimelineSeparator-7147dc90.js";import{C as Se}from"./CardMedia-006affe5.js";import{C as Me}from"./CardActions-5435657d.js";import{R as We}from"./react-markdown-7d5e81e6.js";import{u as ke}from"./use-mocked-user-2f7e8148.js";import{P as Ae,a as q}from"./property-list-item-f3437f5e.js";import{G as U}from"./Grid-963b0e38.js";import{C as Pe}from"./CardHeader-8256efbe.js";import"./deep-copy-ee95be26.js";import"./index-bf780c1b.js";function $e(r){return V("MuiImageList",r)}Y("MuiImageList",["root","masonry","quilted","standard","woven"]);const qe=d.createContext({}),Z=qe,De=["children","className","cols","component","rowHeight","gap","style","variant"],Ne=r=>{const{classes:t,variant:s}=r;return X({root:["root",s]},$e,t)},Ee=G("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:s}=r;return[t.root,t[s.variant]]}})(({ownerState:r})=>u({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},r.variant==="masonry"&&{display:"block"})),Ge=d.forwardRef(function(t,s){const a=K({props:t,name:"MuiImageList"}),{children:l,className:c,cols:p=2,component:L="ul",rowHeight:v="auto",gap:x=4,style:W,variant:g="standard"}=a,T=Q(a,De),y=d.useMemo(()=>({rowHeight:v,gap:x,variant:g}),[v,x,g]);d.useEffect(()=>{},[]);const j=g==="masonry"?u({columnCount:p,columnGap:x},W):u({gridTemplateColumns:`repeat(${p}, 1fr)`,gap:x},W),S=u({},a,{component:L,gap:x,rowHeight:v,variant:g}),b=Ne(S);return e(Ee,u({as:L,className:D(b.root,b[g],c),ref:s,style:j,ownerState:S},T,{children:e(Z.Provider,{value:y,children:l})}))}),He=Ge;function Oe(r){return V("MuiImageListItem",r)}const ze=Y("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),J=ze,Fe=["children","className","cols","component","rows","style"],_e=r=>{const{classes:t,variant:s}=r;return X({root:["root",s],img:["img"]},Oe,t)},Be=G("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:s}=r;return[{[`& .${J.img}`]:t.img},t.root,t[s.variant]]}})(({ownerState:r})=>u({display:"block",position:"relative"},r.variant==="standard"&&{display:"flex",flexDirection:"column"},r.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${J.img}`]:u({objectFit:"cover",width:"100%",height:"100%",display:"block"},r.variant==="standard"&&{height:"auto",flexGrow:1})})),Ue=d.forwardRef(function(t,s){const a=K({props:t,name:"MuiImageListItem"}),{children:l,className:c,cols:p=1,component:L="li",rows:v=1,style:x}=a,W=Q(a,Fe),{rowHeight:g="auto",gap:T,variant:y}=d.useContext(Z);let j="auto";y==="woven"?j=void 0:g!=="auto"&&(j=g*v+T*(v-1));const S=u({},a,{cols:p,component:L,gap:T,rowHeight:g,rows:v,variant:y}),b=_e(S);return e(Be,u({as:L,className:D(b.root,b[y],c),ref:s,style:u({height:j,gridColumnEnd:y!=="masonry"?`span ${p}`:void 0,gridRowEnd:y!=="masonry"?`span ${v}`:void 0,marginBottom:y==="masonry"?T:void 0},x),ownerState:S},W,{children:d.Children.map(l,f=>d.isValidElement(f)?f.type==="img"||ie(f,["Image"])?d.cloneElement(f,{className:D(b.img,f.props.className)}):f:null)}))}),Je=Ue,Ve=r=>{switch(r.type){case"new_job":return n(m,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap"},children:[e(i,{sx:{mr:.5},variant:"subtitle2",children:r.author}),e(i,{sx:{mr:.5},variant:"body2",children:"added a new job"}),e(i,{color:"primary",variant:"subtitle2",children:e(k,{href:"#",children:r.addedJob})})]});case"new_team_member":return n(m,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap"},children:[e(i,{sx:{mr:.5},variant:"subtitle2",children:r.author}),e(i,{sx:{mr:.5},variant:"body2",children:"added"}),e(i,{sx:{mr:.5},variant:"subtitle2",children:r.addedMember}),e(i,{variant:"body2",children:"as a team member"})]});case"created":return n(m,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap"},children:[e(i,{sx:{mr:.5},variant:"subtitle2",children:r.author}),e(i,{sx:{mr:.5},variant:"body2",children:"created"}),e(i,{variant:"subtitle2",children:r.createdCompany})]});default:return null}},O=r=>{const{activities:t,...s}=r;return n(o,{spacing:3,...s,children:[e("div",{children:e(i,{variant:"h6",children:"Activity"})}),n(o,{spacing:3,children:[e(Ce,{sx:{p:0,m:0},children:t.map((a,l)=>{const c=t.length-1>l,p=se(a.createdAt,"MMM dd, HH:mm a");return n(Ie,{sx:{"&:before":{display:"none"}},children:[n(Re,{children:[e(Le,{sx:{border:0,p:0},children:e(I,{src:a.avatar,children:R(a.author)})}),c&&e(Te,{sx:{minHeight:30}})]}),n(je,{children:[Ve(a),e(i,{color:"text.secondary",variant:"caption",sx:{mt:1},children:p})]})]},a.id)})}),e(m,{sx:{display:"flex",justifyContent:"center"},children:e(P,{color:"inherit",children:"Load more"})})]})]})};O.defaultProps={activities:[]};O.propTypes={activities:h.array};const ee=r=>{const{assets:t=[],...s}=r;return n(o,{spacing:3,...s,children:[e("div",{children:n(i,{variant:"h6",children:["Assets (",t.length,")"]})}),e(m,{sx:{display:"grid",gap:3,gridTemplateColumns:"repeat(2, minmax(0, 180px))"},children:t.map(a=>{const l=a.extension==="pdf",c=["jpg","jpeg","png",""].includes(a.extension);return n(M,{variant:"outlined",children:[l&&e(m,{sx:{display:"flex",backgroundColor:p=>p.palette.mode==="dark"?"neutral.900":"neutral.100",height:100,justifyContent:"center",py:3},children:e(oe,{anchorOrigin:{horizontal:"right",vertical:"bottom"},badgeContent:"PDF",color:"primary",children:e(A,{sx:{fontSize:48},children:e(le,{})})})}),c&&e(Se,{image:a.url,sx:{height:100}}),n(m,{sx:{p:2},children:[e(i,{variant:"subtitle2",children:a.fileName}),e(i,{color:"text.secondary",variant:"caption",children:a.size})]}),e(C,{}),e(Me,{sx:{justifyContent:"center"},children:e(P,{color:"inherit",size:"small",children:"Download"})})]},a.id)})})]})};ee.propTypes={assets:h.array};const z=r=>{const{member:t}=r;return n(m,{sx:{borderColor:"divider",borderRadius:1,borderStyle:"solid",borderWidth:1,px:3,py:4},children:[n(o,{alignItems:"center",direction:"row",spacing:2,children:[e(I,{src:t.avatar,children:R(t.name)}),n("div",{children:[e(i,{variant:"subtitle2",children:t.name}),e(i,{color:"text.secondary",variant:"body2",children:t.role})]})]}),e(o,{alignItems:"center",direction:"row",flexWrap:"wrap",spacing:1,sx:{mt:2},children:(t.skills||[]).map(s=>e(ce,{label:s,size:"small"},s))})]})};z.propTypes={member:h.object.isRequired};const Ye=G("div")(({theme:r})=>({color:r.palette.text.secondary,fontFamily:r.typography.fontFamily,"& p":{fontSize:r.typography.body2.fontSize,lineHeight:r.typography.body1.lineHeight,marginBottom:r.spacing(2)}})),re=r=>{const{company:t,...s}=r,a=(t.members||[]).slice(0,2),l=t.images||[];return n("div",{...s,children:[e("div",{children:e(i,{variant:"h5",children:t.shortDescription})}),e(m,{sx:{mt:3},children:e(Ye,{children:t.description&&e(We,{children:t.description})})}),e(He,{cols:3,gap:24,variant:"masonry",children:l.map((c,p)=>e(Je,{children:e("img",{alt:`${t.name} gallery`,src:`${c}?w=248&fit=crop&auto=format`,srcSet:`${c}?w=248&fit=crop&auto=format&dpr=2 2x`})},p))}),e(C,{}),n(o,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",spacing:3,sx:{mt:3},children:[e(i,{variant:"h6",children:"Jobs"}),n(k,{color:"inherit",component:N,href:E.dashboard.jobs.companies.details,variant:"subtitle2",sx:{alignItems:"center",display:"flex"},children:[e(i,{sx:{mr:1},variant:"subtitle2",children:"Jobs"}),e(A,{children:e(B,{})})]})]}),e(m,{sx:{mt:3},children:e(fe,{jobs:t.jobs})}),e(C,{sx:{my:3}}),n(o,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",spacing:3,children:[e(i,{variant:"h6",children:"Members"}),n(k,{color:"inherit",component:N,href:E.dashboard.jobs.companies.details,variant:"subtitle2",sx:{alignItems:"center",display:"flex"},children:[e(i,{sx:{mr:1},variant:"subtitle2",children:"Members"}),e(A,{children:e(B,{})})]})]}),e(m,{sx:{mb:-1.5,mt:1.5,mx:-1.5},children:e(w,{container:!0,spacing:3,children:a.map(c=>e(w,{xs:12,sm:6,children:e(z,{member:c})},c.id))})})]})};re.propTypes={company:h.object.isRequired};const te=r=>{const{review:t}=r,s=de(t.createdAt,new Date,{addSuffix:!0});return e(M,{variant:"outlined",children:e($,{children:n(o,{spacing:2,children:[n(o,{spacing:2,alignItems:{xs:"flex-start",sm:"center"},direction:{xs:"column",sm:"row"},children:[e(I,{src:t.avatar,children:R(t.author)}),n(o,{spacing:1,children:[e(i,{variant:"subtitle1",children:t.title}),n(o,{alignItems:"center",direction:"row",divider:e("span",{children:"•"}),flexWrap:"wrap",spacing:2,children:[n(o,{alignItems:"center",direction:"row",spacing:1,children:[e(H,{value:t.rating/5,precision:.1,readOnly:!0,max:1}),n(i,{noWrap:!0,variant:"subtitle2",children:[t.rating,"/5"]})]}),e(i,{noWrap:!0,variant:"subtitle2",children:t.author}),e(i,{color:"text.secondary",noWrap:!0,variant:"body2",children:s})]})]})]}),e(i,{variant:"body1",children:t.description})]})})})};te.propTypes={review:h.object.isRequired};const Ke=()=>{const r=ke(),[t,s]=d.useState(null),a=d.useCallback((l,c)=>{s(c)},[]);return n(o,{alignItems:"flex-start",direction:"row",spacing:2,children:[e(I,{src:r.avatar,children:R(r.name)}),n(m,{sx:{flexGrow:1},children:[e(me,{fullWidth:!0,multiline:!0,placeholder:"Send your review",rows:3}),n(o,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",spacing:1,sx:{mt:3},children:[e(H,{onChange:a,value:t}),e(P,{variant:"contained",children:"Send Review"})]})]})]})},ne=r=>{const{averageRating:t,totalReviews:s}=r;return e(M,{variant:"outlined",children:e($,{children:n(o,{alignItems:{xs:"flex-start",sm:"center"},direction:{xs:"column",sm:"row"},flexWrap:"wrap",gap:2,children:[e(i,{variant:"subtitle2",children:"Overall reviews"}),n(o,{alignItems:"center",direction:"row",divider:e("span",{children:"•"}),spacing:2,children:[n(o,{alignItems:"center",direction:"row",spacing:1,children:[e(H,{value:t/5,precision:.1,readOnly:!0,max:1}),n(i,{noWrap:!0,variant:"subtitle2",children:[t,"/5"]})]}),n(i,{color:"text.secondary",variant:"body2",children:[s," reviews in total"]})]})]})})})};ne.propTypes={averageRating:h.number.isRequired,totalReviews:h.number.isRequired};const F=r=>{const{reviews:t,averageRating:s,...a}=r;return n(o,{spacing:3,...a,children:[e("div",{children:e(i,{variant:"h6",children:"Reviews"})}),n(o,{spacing:3,children:[e(ne,{averageRating:s,totalReviews:t.length}),t.map(l=>e(te,{review:l},l.id)),e(m,{sx:{display:"flex",justifyContent:"center"},children:e(P,{color:"inherit",children:"Load more"})}),e(Ke,{})]})]})};F.defaultProps={reviews:[],averageRating:0};F.propTypes={reviews:h.array.isRequired,averageRating:h.number.isRequired};const ae=r=>{const{company:t,...s}=r;return e(M,{...s,children:n($,{children:[e(i,{color:"text.secondary",component:"p",sx:{mb:2},variant:"overline",children:"About"}),n(Ae,{children:[e(q,{align:"vertical",label:"Website",sx:{px:0,py:1},value:t.website}),e(q,{align:"vertical",label:"Locations",sx:{px:0,py:1},children:(t.locations||[]).map(a=>e(i,{color:"text.secondary",variant:"body2",children:a},a))}),e(q,{align:"vertical",label:"Company size",sx:{px:0,py:1},value:t.employees})]}),e(C,{sx:{my:2}}),e(i,{color:"text.secondary",component:"p",sx:{mb:2},variant:"overline",children:"Founders"}),e(o,{spacing:2,children:(t.founders||[]).map(a=>n(o,{alignItems:"center",direction:"row",spacing:2,children:[e(I,{src:a.avatar,children:R(a.name)}),n("div",{children:[e(i,{variant:"subtitle2",children:a.name}),e(i,{color:"text.secondary",variant:"body2",children:a.role})]})]},a.id))})]})})};ae.propTypes={company:h.object.isRequired};const _=r=>{const{members:t,...s}=r;return n(o,{spacing:3,...s,children:[e("div",{children:n(i,{variant:"h6",children:["Team (",t.length,")"]})}),e("div",{children:e(U,{container:!0,spacing:3,children:t.map(a=>e(U,{item:!0,xs:12,sm:6,children:e(z,{member:a})},a.id))})})]})};_.defaultProps={members:[]};_.propTypes={members:h.array.isRequired};const Qe=[{label:"Overview",value:"overview"},{label:"Reviews",value:"reviews"},{label:"Activity",value:"activity"},{label:"Team",value:"team"},{label:"Assets",value:"assets"}],Xe=()=>{const r=be(),[t,s]=d.useState(null),a=d.useCallback(async()=>{try{const l=await we.getCompany();r()&&s(l)}catch(l){console.error(l)}},[r]);return d.useEffect(()=>{a()},[]),t},pr=()=>{const r=Xe(),[t,s]=d.useState("overview");pe();const a=d.useCallback((l,c)=>{s(c)},[]);return r?n(he,{children:[e(ue,{title:"Dashboard: Company Details"}),e(m,{component:"main",sx:{flexGrow:1,py:8},children:e(ge,{maxWidth:"lg",children:n(w,{container:!0,spacing:4,children:[e(w,{xs:12,children:e("div",{children:n(k,{color:"text.primary",component:N,href:E.dashboard.jobs.index,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[e(A,{sx:{mr:1},children:e(ve,{})}),e(i,{variant:"subtitle2",children:"Jobs"})]})})}),e(w,{xs:12,lg:8,children:n(M,{children:[e(Pe,{disableTypography:!0,title:n(o,{alignItems:"flex-start",direction:"row",spacing:2,children:[e(I,{src:r.logo,variant:"rounded",children:R(r.name)}),n(o,{spacing:1,children:[e(i,{variant:"h6",children:r.name}),e(i,{variant:"body2",children:r.shortDescription})]})]})}),e(C,{}),e(ye,{indicatorColor:"primary",onChange:a,scrollButtons:"auto",sx:{px:3},textColor:"primary",value:t,variant:"scrollable",children:Qe.map(l=>e(xe,{label:l.label,value:l.value},l.value))}),e(C,{}),n($,{children:[t==="overview"&&e(re,{company:r}),t==="reviews"&&e(F,{reviews:r.reviews||[],averageRating:r.averageRating}),t==="activity"&&e(O,{activities:r.activities||[]}),t==="team"&&e(_,{members:r.members||[]}),t==="assets"&&e(ee,{assets:r.assets||[]})]})]})}),e(w,{xs:12,lg:4,children:e(ae,{company:r})})]})})})]}):null};export{pr as default};
