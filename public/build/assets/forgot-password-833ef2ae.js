import{u as m}from"./formik.esm-cf666fb2.js";import{c as d,a as c}from"./index.esm-d9506663.js";import{u as h,a as f,b,c as g,j as t,F as p,d as a,S,C as x,e as C,T as F,i as w,B as P,p as v}from"./app-51ffe495.js";import{C as y}from"./CardHeader-dbda5e40.js";const B={email:"",submit:null},T=d({email:c().email("Must be a valid email").max(255).required("Email is required")}),V=()=>{const i=h(),l=f(),{forgotPassword:n}=b(),e=m({initialValues:B,validationSchema:T,onSubmit:async(o,s)=>{try{if(await n(o.email),i()){const r=new URLSearchParams({username:o.email}).toString(),u=v.auth.amplify.resetPassword+`?${r}`;l.push(u)}}catch(r){console.error(r),i()&&(s.setStatus({success:!1}),s.setErrors({submit:r.message}),s.setSubmitting(!1))}}});return g(),t(p,{children:[a(S,{title:"Forgot Password"}),a("div",{children:t(x,{elevation:16,children:[a(y,{sx:{pb:0},title:"Forgot password"}),a(C,{children:t("form",{noValidate:!0,onSubmit:e.handleSubmit,children:[a(F,{autoFocus:!0,error:!!(e.touched.email&&e.errors.email),fullWidth:!0,helperText:e.touched.email&&e.errors.email,label:"Email Address",name:"email",onBlur:e.handleBlur,onChange:e.handleChange,type:"email",value:e.values.email}),e.errors.submit&&a(w,{error:!0,sx:{mt:3},children:e.errors.submit}),a(P,{disabled:e.isSubmitting,fullWidth:!0,size:"large",sx:{mt:3},type:"submit",variant:"contained",children:"Send reset link"})]})})]})})]})};export{V as default};
