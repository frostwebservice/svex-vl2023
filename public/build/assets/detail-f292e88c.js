import{E as v,j as n,C as f,d as e,aM as D,l as C,aR as L,k as i,e as R,a_ as T,O as j,J as y,B as b,bA as k,r as g,D as d,f as u,T as H,c as B,F as E,S as $,ax as q,L as F,R as G,p as W,K as z,aA as J,u as K}from"./app-0b1a94df.js";import{C as Q}from"./Calendar-587842e2.js";import{E as U}from"./Edit02-55ef90a8.js";import{o as V}from"./index-85b05b27.js";import{C as A}from"./CardHeader-b4d725f1.js";import{T as _,b as P,c as h,a as N}from"./TableRow-14b65730.js";import{T as X}from"./TableHead-234fc546.js";import{T as Y}from"./TablePagination-94db5e10.js";import{S as Z}from"./ShoppingCart03-a33b4645.js";import{T as ee,a as re,b as ne,c as te,d as ae,e as ie}from"./TimelineSeparator-266c7469.js";import{P as oe,a as m}from"./property-list-item-28507efb.js";import"./deep-copy-ee95be26.js";import"./apply-pagination-03aa54c3.js";import"./apply-sort-ec30f364.js";const S=t=>{const{items:r,...s}=t;return n(f,{...s,children:[e(A,{title:"Order items"}),e(D,{children:e(C,{sx:{minWidth:700},children:n(_,{children:[e(X,{children:n(P,{children:[e(h,{children:"Description"}),e(h,{children:"Billing Cycle"}),e(h,{children:"Amount"})]})}),e(N,{children:r.map(a=>{const o=`${a.name} x ${a.quantity}`,p=L(a.unitAmount).format(`${a.currency}0,0.00`);return n(P,{children:[e(h,{children:e(i,{variant:"subtitle2",children:o})}),e(h,{children:a.billingCycle}),e(h,{children:p})]},a.id)})})]})})}),e(Y,{component:"div",count:r.length,onPageChange:()=>{},onRowsPerPageChange:()=>{},page:0,rowsPerPage:5,rowsPerPageOptions:[5,10,25]})]})};S.propTypes={items:v.array.isRequired};const I=t=>{const{logs:r,...s}=t;return n(f,{...s,children:[e(A,{title:"Logs"}),n(R,{sx:{pt:0},children:[e(ee,{sx:{m:0,p:0},children:r.map((a,o)=>{const p=r.length-1>o,x=T(a.createdAt,"MMM dd, h:mm a");return n(re,{sx:{"&::before":{display:"none"}},children:[n(ne,{children:[e(te,{sx:{border:0,p:0},children:e(j,{children:e(y,{children:e(Z,{})})})}),p&&e(ae,{sx:{minHeight:30}})]}),n(ie,{children:[e(i,{variant:"body2",children:a.message}),e(i,{color:"text.secondary",sx:{mt:1},variant:"caption",children:x})]})]},a.id)})}),e(C,{sx:{display:"flex",justifyContent:"center",mt:2},children:e(b,{color:"inherit",children:"Load more"})})]})]})};I.propTypes={logs:v.array.isRequired};const w=["Canceled","Complete","Rejected"],O=t=>{const{order:r,...s}=t,a=k(c=>c.breakpoints.up("md")),[o,p]=g.useState(w[0]),x=g.useCallback(c=>{p(c.target.value)},[]),l=a?"horizontal":"vertical",M=T(r.createdAt,"dd/MM/yyyy HH:mm");return n(f,{...s,children:[e(A,{title:"Basic info"}),e(d,{}),n(oe,{children:[n(m,{align:l,label:"Customer",children:[e(i,{variant:"subtitle2",children:r.customer.name}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.address1}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.city}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.country})]}),e(d,{}),e(m,{align:l,label:"ID",value:r.id}),e(d,{}),e(m,{align:l,label:"Invoice",value:r.number}),e(d,{}),e(m,{align:l,label:"Date",value:M}),e(d,{}),e(m,{align:l,label:"Promotion Code",value:r.promotionCode}),e(d,{}),e(m,{align:l,label:"Total Amount",value:`${r.currency}${r.totalAmount}`}),e(d,{}),e(m,{align:l,label:"Status",children:n(u,{alignItems:{xs:"stretch",sm:"center"},direction:{xs:"column",sm:"row"},spacing:1,children:[e(H,{label:"Status",margin:"normal",name:"status",onChange:x,select:!0,SelectProps:{native:!0},sx:{flexGrow:1,minWidth:150},value:o,children:w.map(c=>e("option",{value:c,children:c},c))}),e(b,{variant:"contained",children:"Save"})]})})]})]})};O.propTypes={order:v.object.isRequired};const se=()=>{const t=K(),[r,s]=g.useState(null),a=g.useCallback(async()=>{try{const o=await V.getOrder();t()&&s(o)}catch(o){console.error(o)}},[t]);return g.useEffect(()=>{a()},[]),r},Te=()=>{const t=se();if(B(),!t)return null;const r=T(t.createdAt,"dd/MM/yyyy HH:mm");return n(E,{children:[e($,{title:"Dashboard: Order Details"}),e(C,{component:"main",sx:{flexGrow:1,py:8},children:e(q,{maxWidth:"lg",children:n(u,{spacing:4,children:[e("div",{children:n(F,{color:"text.primary",component:G,href:W.dashboard.orders.index,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[e(y,{sx:{mr:1},children:e(z,{})}),e(i,{variant:"subtitle2",children:"Orders"})]})}),e("div",{children:n(u,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[n(u,{spacing:1,children:[e(i,{variant:"h4",children:t.number}),n(u,{alignItems:"center",direction:"row",spacing:1,children:[e(i,{color:"text.secondary",variant:"body2",children:"Placed on"}),e(y,{color:"action",children:e(Q,{})}),e(i,{variant:"body2",children:r})]})]}),e("div",{children:n(u,{alignItems:"center",direction:"row",spacing:2,children:[e(b,{color:"inherit",endIcon:e(y,{children:e(U,{})}),children:"Edit"}),e(b,{endIcon:e(y,{children:e(J,{})}),variant:"contained",children:"Action"})]})})]})}),e(O,{order:t}),e(S,{items:t.items||[]}),e(I,{logs:t.logs||[]})]})})})]})};export{Te as default};
