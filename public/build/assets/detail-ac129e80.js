import{P as x,j as n,C as f,d as e,aZ as D,l as C,b2 as L,k as i,e as R,bb as T,E as j,q as y,B as g,bF as k,r as b,D as d,f as u,T as H,c as B,F as E,S as q,aM as $,L as F,R as G,p as W,A as z,aP as Q,u as U}from"./app-d2e90dc3.js";import{C as V}from"./Calendar-cb67d698.js";import{E as Z}from"./Edit02-30df8b79.js";import{o as J}from"./index-a4818ce7.js";import{C as P}from"./CardHeader-8256efbe.js";import{T as K,b as w,c as h,a as N}from"./TableRow-5d8cde28.js";import{T as X}from"./TableHead-75b16b60.js";import{T as Y}from"./TablePagination-a3981b5c.js";import{S as _}from"./ShoppingCart03-97538d3a.js";import{T as ee,a as re,b as ne,c as te,d as ae,e as ie}from"./TimelineSeparator-7147dc90.js";import{P as oe,a as m}from"./property-list-item-f3437f5e.js";import"./deep-copy-ee95be26.js";import"./apply-pagination-03aa54c3.js";import"./apply-sort-ec30f364.js";const S=t=>{const{items:r,...s}=t;return n(f,{...s,children:[e(P,{title:"Order items"}),e(D,{children:e(C,{sx:{minWidth:700},children:n(K,{children:[e(X,{children:n(w,{children:[e(h,{children:"Description"}),e(h,{children:"Billing Cycle"}),e(h,{children:"Amount"})]})}),e(N,{children:r.map(a=>{const o=`${a.name} x ${a.quantity}`,p=L(a.unitAmount).format(`${a.currency}0,0.00`);return n(w,{children:[e(h,{children:e(i,{variant:"subtitle2",children:o})}),e(h,{children:a.billingCycle}),e(h,{children:p})]},a.id)})})]})})}),e(Y,{component:"div",count:r.length,onPageChange:()=>{},onRowsPerPageChange:()=>{},page:0,rowsPerPage:5,rowsPerPageOptions:[5,10,25]})]})};S.propTypes={items:x.array.isRequired};const I=t=>{const{logs:r,...s}=t;return n(f,{...s,children:[e(P,{title:"Logs"}),n(R,{sx:{pt:0},children:[e(ee,{sx:{m:0,p:0},children:r.map((a,o)=>{const p=r.length-1>o,v=T(a.createdAt,"MMM dd, h:mm a");return n(re,{sx:{"&::before":{display:"none"}},children:[n(ne,{children:[e(te,{sx:{border:0,p:0},children:e(j,{children:e(y,{children:e(_,{})})})}),p&&e(ae,{sx:{minHeight:30}})]}),n(ie,{children:[e(i,{variant:"body2",children:a.message}),e(i,{color:"text.secondary",sx:{mt:1},variant:"caption",children:v})]})]},a.id)})}),e(C,{sx:{display:"flex",justifyContent:"center",mt:2},children:e(g,{color:"inherit",children:"Load more"})})]})]})};I.propTypes={logs:x.array.isRequired};const A=["Canceled","Complete","Rejected"],O=t=>{const{order:r,...s}=t,a=k(c=>c.breakpoints.up("md")),[o,p]=b.useState(A[0]),v=b.useCallback(c=>{p(c.target.value)},[]),l=a?"horizontal":"vertical",M=T(r.createdAt,"dd/MM/yyyy HH:mm");return n(f,{...s,children:[e(P,{title:"Basic info"}),e(d,{}),n(oe,{children:[n(m,{align:l,label:"Customer",children:[e(i,{variant:"subtitle2",children:r.customer.name}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.address1}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.city}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.country})]}),e(d,{}),e(m,{align:l,label:"ID",value:r.id}),e(d,{}),e(m,{align:l,label:"Invoice",value:r.number}),e(d,{}),e(m,{align:l,label:"Date",value:M}),e(d,{}),e(m,{align:l,label:"Promotion Code",value:r.promotionCode}),e(d,{}),e(m,{align:l,label:"Total Amount",value:`${r.currency}${r.totalAmount}`}),e(d,{}),e(m,{align:l,label:"Status",children:n(u,{alignItems:{xs:"stretch",sm:"center"},direction:{xs:"column",sm:"row"},spacing:1,children:[e(H,{label:"Status",margin:"normal",name:"status",onChange:v,select:!0,SelectProps:{native:!0},sx:{flexGrow:1,minWidth:150},value:o,children:A.map(c=>e("option",{value:c,children:c},c))}),e(g,{variant:"contained",children:"Save"})]})})]})]})};O.propTypes={order:x.object.isRequired};const se=()=>{const t=U(),[r,s]=b.useState(null),a=b.useCallback(async()=>{try{const o=await J.getOrder();t()&&s(o)}catch(o){console.error(o)}},[t]);return b.useEffect(()=>{a()},[]),r},Te=()=>{const t=se();if(B(),!t)return null;const r=T(t.createdAt,"dd/MM/yyyy HH:mm");return n(E,{children:[e(q,{title:"Dashboard: Order Details"}),e(C,{component:"main",sx:{flexGrow:1,py:8},children:e($,{maxWidth:"lg",children:n(u,{spacing:4,children:[e("div",{children:n(F,{color:"text.primary",component:G,href:W.dashboard.orders.index,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[e(y,{sx:{mr:1},children:e(z,{})}),e(i,{variant:"subtitle2",children:"Orders"})]})}),e("div",{children:n(u,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[n(u,{spacing:1,children:[e(i,{variant:"h4",children:t.number}),n(u,{alignItems:"center",direction:"row",spacing:1,children:[e(i,{color:"text.secondary",variant:"body2",children:"Placed on"}),e(y,{color:"action",children:e(V,{})}),e(i,{variant:"body2",children:r})]})]}),e("div",{children:n(u,{alignItems:"center",direction:"row",spacing:2,children:[e(g,{color:"inherit",endIcon:e(y,{children:e(Z,{})}),children:"Edit"}),e(g,{endIcon:e(y,{children:e(Q,{})}),variant:"contained",children:"Action"})]})})]})}),e(O,{order:t}),e(S,{items:t.items||[]}),e(I,{logs:t.logs||[]})]})})})]})};export{Te as default};
